(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{8914:function(e,t,s){Promise.resolve().then(s.bind(s,5224))},5224:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=s(3827),n=s(4090),i=s(7907),l=s(7014),a=s(1049),d=s(3195),c=s(7461);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,c.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),x=(0,c.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var u=s(8994),h=s(6490),m=s(7805);function p(){let e=(0,i.useRouter)(),[t,s]=(0,n.useState)(null),[c,p]=(0,n.useState)({pending:0,students:0}),[f,b]=(0,n.useState)([]),[g,v]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{let{count:e}=await l.O.from("submissions").select("*",{count:"exact",head:!0}).eq("status","pending"),{count:t}=await l.O.from("profiles").select("*",{count:"exact",head:!0}).neq("role","teacher");p({pending:e||0,students:t||0});let{data:s,error:r}=await l.O.from("submissions").select("\n                    *,\n                    profiles:user_id (full_name, email, enrolled_class, current_level)\n                ").order("created_at",{ascending:!1});!r&&s&&b(s),v(!1)})()},[]);let w=f.filter(e=>{var s,r;let n=(null===(r=e.profiles)||void 0===r?void 0:null===(s=r.enrolled_class)||void 0===s?void 0:s.toLowerCase())||"";return"master_class"===t?n.includes("master"):"visualization_class"===t&&(n.includes("vis")||n.includes("render"))}),j=t=>{e.push("/teacher/review/".concat(t))};return(0,r.jsxs)("div",{className:"min-h-screen bg-[#050505] text-white font-sans flex flex-col",children:[(0,r.jsxs)("header",{className:"h-16 border-b border-white/10 flex items-center justify-between px-8 bg-[#0a0a0a] shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("h1",{className:"text-xl font-black tracking-tight",children:"Teacher Dashboard"}),t&&(0,r.jsx)("span",{className:"text-[10px] font-bold text-neutral-500 border-l border-white/10 pl-4 uppercase tracking-widest",children:"master_class"===t?"Master Class":"Visualization"})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("activeUserEmail"),e.push("/login")},className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-widest text-neutral-500 hover:text-white transition-colors border border-white/10 px-4 py-2 rounded-full hover:bg-white/5",children:[(0,r.jsx)(a.Z,{size:14})," Logout"]})]}),(0,r.jsx)("div",{className:"flex-1 p-8 w-full flex flex-col items-center",children:t?(0,r.jsxs)("div",{className:"w-full max-w-5xl animate-in fade-in slide-in-from-right-8",children:[(0,r.jsxs)("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-neutral-500 hover:text-white mb-6 transition-colors text-xs font-bold uppercase tracking-widest",children:[(0,r.jsx)(x,{size:16})," Back to Classes"]}),(0,r.jsxs)("div",{className:"bg-[#0a0a0a] border border-white/10 rounded-xl overflow-hidden min-h-[400px]",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-white/10 bg-[#0f0f0f] flex justify-between items-center",children:[(0,r.jsxs)("h2",{className:"text-sm font-bold text-white uppercase tracking-widest",children:["master_class"===t?"Master Class":"Visualization"," Queue"]}),(0,r.jsxs)("span",{className:"bg-white/10 text-[10px] px-2 py-1 rounded text-white",children:[w.length," Items"]})]}),g?(0,r.jsx)("div",{className:"p-12 flex justify-center",children:(0,r.jsx)(u.Z,{className:"animate-spin text-neutral-500"})}):0===w.length?(0,r.jsxs)("div",{className:"p-12 text-center",children:[(0,r.jsx)("p",{className:"text-neutral-500 text-sm",children:"No submissions found for this class."}),(0,r.jsx)("p",{className:"text-neutral-700 text-xs mt-2",children:"Wait for students to upload their work."})]}):(0,r.jsx)("div",{className:"divide-y divide-white/5",children:w.map(e=>{var t,s,n,i,l;return(0,r.jsxs)("div",{onClick:()=>j(e.id),className:"p-4 flex items-center justify-between hover:bg-white/5 transition-colors cursor-pointer group",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-neutral-800 border border-white/10 flex items-center justify-center text-white font-bold text-sm",children:(null===(n=e.profiles)||void 0===n?void 0:null===(s=n.full_name)||void 0===s?void 0:null===(t=s[0])||void 0===t?void 0:t.toUpperCase())||"S"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-white text-sm group-hover:text-[#d90238] transition-colors",children:(null===(i=e.profiles)||void 0===i?void 0:i.full_name)||"Unknown Student"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,r.jsx)("span",{className:"text-[10px] text-neutral-500",children:null===(l=e.profiles)||void 0===l?void 0:l.email}),(0,r.jsxs)("span",{className:"text-[10px] bg-white/10 text-neutral-300 px-1.5 rounded",children:["LVL ",e.assignment_number]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"px-3 py-1 rounded-full border text-[10px] font-bold uppercase tracking-widest flex items-center gap-2 ".concat("pending"===e.status?"border-amber-500/30 text-amber-500 bg-amber-500/5":"approved"===e.status?"border-emerald-500/30 text-emerald-500 bg-emerald-500/5":"border-[#d90238]/30 text-[#d90238] bg-[#d90238]/5"),children:["pending"===e.status&&(0,r.jsx)(h.Z,{size:12,className:"animate-pulse"}),e.status]}),(0,r.jsx)(m.Z,{size:16,className:"text-neutral-600 group-hover:text-white"})]})]},e.id)})})]})]}):(0,r.jsxs)("div",{className:"w-full max-w-4xl flex flex-col gap-8 animate-in fade-in slide-in-from-bottom-4",children:[(0,r.jsxs)("div",{className:"text-center space-y-2 mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Select Class"}),(0,r.jsx)("p",{className:"text-neutral-500 text-sm",children:"Manage student submissions and progress."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("button",{onClick:()=>s("master_class"),className:"group bg-[#0a0a0a] border border-white/10 rounded-xl p-6 text-left hover:border-[#d90238] transition-all hover:bg-[#d90238]/5 flex items-center gap-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-[#d90238]/10 rounded-lg flex shrink-0 items-center justify-center text-[#d90238] group-hover:scale-105 transition-transform",children:(0,r.jsx)(d.Z,{size:28})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-black text-white",children:"MASTER CLASS"}),(0,r.jsx)("p",{className:"text-[10px] text-neutral-500 font-mono uppercase tracking-widest mt-1",children:"Architecture Modeling"}),(0,r.jsx)("span",{className:"text-[10px] text-[#d90238] font-bold mt-2 block group-hover:underline",children:"View Submissions →"})]})]}),(0,r.jsxs)("button",{onClick:()=>s("visualization_class"),className:"group bg-[#0a0a0a] border border-white/10 rounded-xl p-6 text-left hover:border-[#d90238] transition-all hover:bg-[#d90238]/5 flex items-center gap-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white/5 rounded-lg flex shrink-0 items-center justify-center text-white group-hover:scale-105 transition-transform",children:(0,r.jsx)(o,{size:28})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-black text-white",children:"VISUALIZATION"}),(0,r.jsx)("p",{className:"text-[10px] text-neutral-500 font-mono uppercase tracking-widest mt-1",children:"Rendering & Lighting"}),(0,r.jsx)("span",{className:"text-[10px] text-white font-bold mt-2 block group-hover:underline",children:"View Submissions →"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{className:"bg-[#0f0f0f] p-4 rounded-lg border border-white/5 flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-[10px] text-neutral-500 font-bold uppercase tracking-widest",children:"Pending Reviews"}),(0,r.jsx)("span",{className:"text-2xl font-black text-[#d90238]",children:c.pending})]}),(0,r.jsxs)("div",{className:"bg-[#0f0f0f] p-4 rounded-lg border border-white/5 flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-[10px] text-neutral-500 font-bold uppercase tracking-widest",children:"Total Students"}),(0,r.jsx)("span",{className:"text-2xl font-black text-white",children:c.students})]})]})]})})]})}},7805:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},6490:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3195:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},1049:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},7014:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});var r=s(7688),n=s(9079);let i=n.env.NEXT_PUBLIC_SUPABASE_URL,l=n.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,a=(0,r.eI)(i,l)}},function(e){e.O(0,[655,971,69,744],function(){return e(e.s=8914)}),_N_E=e.O()}]);