"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{4051:function(e,t,l){l.d(t,{x:function(){return p}});var s=l(3827),r=l(4090),a=l(2437),n=l(4220),i=l(6548),o=l(7898),c=l(9783),d=l(1828),u=l(4325),x=l(4067),h=l(5751),f=l(3348);let m=[{id:"slide",label:"Slide",icon:a.Z},{id:"split",label:"Split H",icon:n.Z},{id:"split-vertical",label:"Split V",icon:i.Z},{id:"overlay",label:"Blend",icon:o.Z},{id:"full",label:"Full View",icon:c.Z}],p=e=>{let{referenceImage:t,renderImage:l,className:n="",isModalView:i=!1}=e,[o,b]=(0,r.useState)("slide"),[v,w]=(0,r.useState)(50),[g,j]=(0,r.useState)(50),[N,y]=(0,r.useState)("render"),[E,k]=(0,r.useState)(m),[R,S]=(0,r.useState)(null),[C,_]=(0,r.useState)(1),[z,L]=(0,r.useState)({x:0,y:0}),[D,M]=(0,r.useState)(!1),[Z,F]=(0,r.useState)({x:0,y:0}),[U,B]=(0,r.useState)(!1),P=(0,r.useRef)(null),I=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=I.current;if(!e)return;let t=e=>{e.preventDefault();let t=e.deltaY>0?-1:1;_(e=>{let l=Math.min(Math.max(1,e+.1*t),8);return 1===l&&L({x:0,y:0}),l})};return e.addEventListener("wheel",t,{passive:!1}),()=>e.removeEventListener("wheel",t)},[]);let V=()=>{M(!1)},X=()=>{_(1),L({x:0,y:0})},A=(0,r.useCallback)(e=>{if(!I.current)return;let t=I.current.getBoundingClientRect();w(Math.max(0,Math.min(Math.max(0,Math.min(e-t.left,t.width))/t.width*100,100)))},[]),[O,Y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=e=>{O&&(e.preventDefault(),A(e.clientX))},t=()=>Y(!1);return window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}},[O,A]);let T=e=>{S(e)},H=(e,t)=>{if(e.preventDefault(),null===R||R===t)return;let l=[...E],s=l[R];l.splice(R,1),l.splice(t,0,s),S(t),k(l)},K=()=>{S(null)},q={transform:"translate(".concat(z.x,"px, ").concat(z.y,"px) scale(").concat(C,")"),transition:D?"none":"transform 0.1s cubic-bezier(0.2, 0.8, 0.2, 1)",cursor:C>1?D?"grabbing":"grab":"default",transformOrigin:"center center",willChange:"transform"},G="absolute inset-0 w-full h-full object-contain pointer-events-none select-none",J={onMouseDown:e=>{C>1&&(M(!0),F({x:e.clientX-z.x,y:e.clientY-z.y}))},onMouseMove:e=>{D&&C>1&&(e.preventDefault(),L({x:e.clientX-Z.x,y:e.clientY-Z.y}))},onMouseUp:V,onMouseLeave:V};return U&&!i?(0,s.jsxs)("div",{className:"fixed inset-0 z-[200] bg-[#050505] animate-in fade-in duration-200 flex flex-col",children:[(0,s.jsxs)("div",{className:"h-14 border-b border-white/10 bg-[#0a0a0a] flex items-center justify-between px-6 shrink-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"text-primary",size:18}),(0,s.jsx)("span",{className:"text-white font-bold tracking-wider text-sm",children:"FULLSCREEN MODE"})]}),(0,s.jsxs)("button",{onClick:()=>B(!1),className:"flex items-center gap-2 bg-neutral-800 hover:bg-neutral-700 text-white px-4 py-2 rounded-sm text-xs font-bold border border-white/5 transition-colors shadow-lg",children:[(0,s.jsx)(u.Z,{size:14})," EXIT"]})]}),(0,s.jsx)("div",{className:"flex-1 relative",children:(0,s.jsx)(p,{referenceImage:t,renderImage:l,isModalView:!0,className:"h-full border-0 rounded-none w-full"})})]}):(0,s.jsxs)("div",{ref:P,className:"flex flex-col bg-[#0a0a0a] border border-dark-border rounded-lg overflow-hidden select-none shadow-2xl ".concat(n," group"),children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between px-4 py-2 border-b border-white/5 bg-[#0f0f0f] min-h-12 shrink-0 backdrop-blur-xl gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 overflow-x-auto no-scrollbar",children:[(0,s.jsx)("span",{className:"text-[10px] text-neutral-600 mr-2 uppercase tracking-widest hidden sm:block",children:"View:"}),E.map((e,t)=>(0,s.jsx)("div",{draggable:!0,onDragStart:()=>T(t),onDragOver:e=>H(e,t),onDrop:K,className:"transition-transform duration-200 ".concat(R===t?"opacity-50 scale-95":""),children:(0,s.jsxs)("button",{onClick:()=>{b(e.id),X()},className:"group relative p-1.5 px-3 rounded-sm flex items-center gap-2 text-[10px] font-bold uppercase transition-all whitespace-nowrap cursor-pointer ".concat(o===e.id?"bg-primary text-white shadow-glow":"text-neutral-500 hover:text-white hover:bg-white/5"),children:[(0,s.jsx)(x.Z,{size:8,className:"text-neutral-700 group-hover:text-neutral-500 cursor-grab"}),(0,s.jsx)(e.icon,{size:14}),(0,s.jsx)("span",{className:"hidden sm:inline",children:e.label})]})},e.id))]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 ml-auto",children:[(0,s.jsxs)("div",{className:"hidden sm:flex items-center gap-2 text-neutral-500 text-[10px] font-mono border-r border-white/10 pr-3 mr-1",children:[(0,s.jsx)(h.Z,{size:12}),(0,s.jsxs)("span",{children:[Math.round(100*C),"%"]})]}),(0,s.jsx)("button",{onClick:X,className:"text-neutral-500 hover:text-white p-1.5 hover:bg-white/5 rounded transition-colors",title:"Reset View",children:(0,s.jsx)(f.Z,{size:14})}),!i&&(0,s.jsx)("button",{onClick:()=>B(!0),className:"flex items-center gap-2 text-xs font-bold text-neutral-400 hover:text-primary transition-colors ml-2",title:"Fullscreen",children:(0,s.jsx)(c.Z,{size:14})})]})]}),(0,s.jsx)("div",{ref:I,className:"flex-1 overflow-hidden relative min-h-0 bg-[#020202] cursor-crosshair touch-none",style:{overscrollBehavior:"none"},children:(()=>{switch(o){case"slide":return(0,s.jsxs)("div",{className:"relative w-full h-full overflow-hidden bg-[#050505]",...J,children:[(0,s.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:[(0,s.jsx)("div",{style:q,className:"w-full h-full relative flex items-center justify-center",children:(0,s.jsx)("img",{src:l,className:G,alt:"Render"})}),(0,s.jsx)("div",{className:"absolute top-4 right-4 bg-black/60 backdrop-blur-sm border border-white/10 text-white text-[10px] px-3 py-1 font-bold rounded-full pointer-events-none z-10 shadow-lg",children:"RENDER"})]}),(0,s.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden border-r-2 border-primary shadow-[0_0_20px_rgba(0,0,0,0.5)]",style:{clipPath:"inset(0 ".concat(100-v,"% 0 0)")},children:[(0,s.jsx)("div",{style:q,className:"w-full h-full relative flex items-center justify-center",children:(0,s.jsx)("img",{src:t,className:G,alt:"Reference"})}),(0,s.jsx)("div",{className:"absolute top-4 left-4 bg-primary/90 backdrop-blur-sm text-white text-[10px] px-3 py-1 font-bold rounded-full pointer-events-none z-10 shadow-lg",children:"REFERENCE"})]}),(0,s.jsxs)("div",{className:"absolute inset-y-0 w-10 -ml-5 z-30 cursor-ew-resize flex items-center justify-center group outline-none",style:{left:"".concat(v,"%")},onMouseDown:()=>Y(!0),children:[(0,s.jsx)("div",{className:"w-0.5 h-full bg-primary shadow-[0_0_15px_rgba(222,4,67,1)] transition-all group-hover:w-1 group-hover:bg-white"}),(0,s.jsx)("div",{className:"absolute w-8 h-8 bg-black border-2 border-primary rounded-full flex items-center justify-center text-white shadow-xl scale-75 group-hover:scale-110 transition-transform",children:(0,s.jsx)(a.Z,{size:14})})]})]});case"split":return(0,s.jsxs)("div",{className:"w-full h-full grid grid-cols-2 divide-x divide-white/10 bg-[#050505]",...J,children:[(0,s.jsxs)("div",{className:"relative overflow-hidden w-full h-full bg-black/20 group/split",children:[(0,s.jsx)("div",{style:q,className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("img",{src:t,className:G,alt:"Reference"})}),(0,s.jsx)("div",{className:"absolute top-4 left-4 bg-black/60 backdrop-blur-sm border border-white/10 text-white text-[10px] px-3 py-1 font-bold rounded-full pointer-events-none",children:"REF"})]}),(0,s.jsxs)("div",{className:"relative overflow-hidden w-full h-full bg-black/20 group/split",children:[(0,s.jsx)("div",{style:q,className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("img",{src:l,className:G,alt:"Render"})}),(0,s.jsx)("div",{className:"absolute top-4 right-4 bg-primary/80 backdrop-blur-sm text-white text-[10px] px-3 py-1 font-bold rounded-full pointer-events-none",children:"RENDER"})]})]});case"split-vertical":return(0,s.jsxs)("div",{className:"w-full h-full grid grid-rows-2 divide-y divide-white/10 bg-[#050505]",...J,children:[(0,s.jsxs)("div",{className:"relative overflow-hidden w-full h-full bg-black/20 group/split",children:[(0,s.jsx)("div",{style:q,className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("img",{src:t,className:G,alt:"Reference"})}),(0,s.jsx)("div",{className:"absolute top-4 left-4 bg-black/60 backdrop-blur-sm border border-white/10 text-white text-[10px] px-3 py-1 font-bold rounded-full pointer-events-none",children:"REF"})]}),(0,s.jsxs)("div",{className:"relative overflow-hidden w-full h-full bg-black/20 group/split",children:[(0,s.jsx)("div",{style:q,className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("img",{src:l,className:G,alt:"Render"})}),(0,s.jsx)("div",{className:"absolute top-4 right-4 bg-primary/80 backdrop-blur-sm text-white text-[10px] px-3 py-1 font-bold rounded-full pointer-events-none",children:"RENDER"})]})]});case"overlay":return(0,s.jsxs)("div",{className:"relative w-full h-full overflow-hidden bg-[#050505]",...J,children:[(0,s.jsxs)("div",{style:q,className:"w-full h-full relative flex items-center justify-center",children:[(0,s.jsx)("img",{src:t,className:G,alt:"Reference"}),(0,s.jsx)("img",{src:l,className:G,style:{opacity:g/100},alt:"Render"})]}),(0,s.jsxs)("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-30 bg-black/80 backdrop-blur-md border border-white/10 px-6 py-3 rounded-full flex items-center gap-4 shadow-2xl",children:[(0,s.jsx)("span",{className:"text-[10px] font-bold text-neutral-400",children:"REF"}),(0,s.jsx)("input",{type:"range",min:"0",max:"100",value:g,onChange:e=>j(Number(e.target.value)),className:"w-32 h-1 accent-primary bg-neutral-700 rounded-lg appearance-none cursor-pointer"}),(0,s.jsx)("span",{className:"text-[10px] font-bold text-primary",children:"RENDER"})]})]});case"full":return(0,s.jsxs)("div",{className:"relative w-full h-full overflow-hidden bg-[#050505]",...J,children:[(0,s.jsx)("div",{style:q,className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("img",{src:"ref"===N?t:l,className:G,alt:"Full View"})}),(0,s.jsxs)("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-30 flex items-center bg-black/80 backdrop-blur-md border border-white/10 rounded-full p-1 shadow-2xl",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),y("ref")},className:"px-4 py-2 rounded-full text-[10px] font-bold uppercase transition-all ".concat("ref"===N?"bg-white text-black shadow-glow":"text-neutral-500 hover:text-white"),children:"Reference"}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),y("render")},className:"px-4 py-2 rounded-full text-[10px] font-bold uppercase transition-all ".concat("render"===N?"bg-primary text-white shadow-glow":"text-neutral-500 hover:text-white"),children:"Render"})]}),(0,s.jsx)("div",{className:"absolute top-4 right-4 text-white text-[10px] px-3 py-1 font-bold rounded-full pointer-events-none backdrop-blur-sm shadow-lg ".concat("ref"===N?"bg-neutral-800/80 border border-white/10":"bg-primary/80"),children:"ref"===N?"FULL REFERENCE":"FULL RENDER"})]})}})()})]})}},7014:function(e,t,l){l.d(t,{O:function(){return i}});var s=l(7688),r=l(9079);let a=r.env.NEXT_PUBLIC_SUPABASE_URL,n=r.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,i=(0,s.eI)(a,n)}}]);