(()=>{var e={};e.id=558,e.ids=[558],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5662:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o});var s=r(482),a=r(9108),l=r(2563),i=r.n(l),n=r(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let o=["",{children:["student",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3714)),"/workspaces/render-academy-app/app/student/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4218)),"/workspaces/render-academy-app/app/student/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2917)),"/workspaces/render-academy-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/render-academy-app/app/student/dashboard/page.tsx"],x="/student/dashboard/page",h={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/student/dashboard/page",pathname:"/student/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6233:(e,t,r)=>{Promise.resolve().then(r.bind(r,2050))},1365:(e,t,r)=>{Promise.resolve().then(r.bind(r,574))},2050:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var s=r(5344),a=r(3729),l=r(8428),i=r(1588);let n=e=>new Promise((t,r)=>{let s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=e=>r(e)}),d=e=>({...e,references:e.ref_interior_url&&e.ref_exterior_url?{interior:e.ref_interior_url,exterior:e.ref_exterior_url}:void 0}),o=async e=>{let{data:t,error:r}=await i.O.from("profiles").select("*").eq("email",e).single();return r||!t?null:d(t)},c=async(e,t,r)=>{try{let s={};if(t){let e=await n(t);s.ref_interior_url=e}if(r){let e=await n(r);s.ref_exterior_url=e}let{data:a,error:l}=await i.O.from("profiles").update(s).eq("id",e).select().single();if(l)return console.error("Upload Error:",l.message),null;return d(a)}catch(e){return console.error("Unexpected Error:",e),null}},x=async e=>{let{data:t}=await i.O.from("submissions").select("*").eq("student_id",e);return t||[]},h=async(e,t,r,s,a)=>{let l=s?await n(s):"https://via.placeholder.com/800",{error:d}=await i.O.from("submissions").insert({student_id:e,assignment_number:t,reference_image_url:r,render_image_url:l,status:"pending",student_message:a,created_at:new Date().toISOString()});return d&&console.error("Submit Error:",d.message),!d},u=async()=>{let{data:e}=await i.O.from("submissions").select("*").eq("status","approved");return e||[]};var p=r(1143),m=r(2739),f=r(9224);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,f.Z)("MonitorPlay",[["path",{d:"m10 7 5 3-5 3Z",key:"29ljg6"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);var g=r(5524),w=r(8822);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,f.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var j=r(8120),v=r(4513),N=r(5545);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,f.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),_=(0,f.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),S=(0,f.Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),z=(0,f.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),C=(0,f.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var M=r(7751);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let Z=(0,f.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),E=(0,f.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),A=(0,f.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),P=(0,f.Z)("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),I=(0,f.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function R(){(0,l.useRouter)();let[e,t]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=localStorage.getItem("activeUserEmail");e&&o(e).then(e=>{e&&t(e),i(!1)})},[]),r)?s.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:s.jsx(m.Z,{className:"animate-spin text-[#d90238]",size:32})}):e?s.jsx("div",{className:"w-full h-screen bg-[#050505] text-neutral-200 font-sans selection:bg-[#d90238] selection:text-white flex overflow-hidden",children:s.jsx(L,{user:e,setUser:t})}):null}function L({user:e,setUser:t}){let[r,l]=(0,a.useState)([]),[n,d]=(0,a.useState)([]),[o,f]=(0,a.useState)("workspace"),[R,L]=(0,a.useState)("interior"),[T,q]=(0,a.useState)(null),[U,O]=(0,a.useState)(!1),[D,$]=(0,a.useState)(null),[G,H]=(0,a.useState)(""),[F,V]=(0,a.useState)(""),[J,W]=(0,a.useState)(!1),[Y,B]=(0,a.useState)({interior:null,exterior:null}),[K,X]=(0,a.useState)({interior:"",exterior:""}),[Q,ee]=(0,a.useState)(!1),et="master_class"===e.enrolled_class,er=et?"ARCHITECTURE MODELING":null;(0,a.useEffect)(()=>{(async()=>{let t=await x(e.id);if(t&&(l(t.sort((e,t)=>new Date(e.created_at||0).getTime()-new Date(t.created_at||0).getTime())),"workspace"===o)){let r=t.filter(t=>t.assignment_number===e.current_level),s=r.length>0?r[r.length-1]:null;s&&"rejected"!==s.status?q(s.id):q(null)}if("gallery"===o){let e=await u();e&&d(e)}})()},[e.id,e.current_level,o]);let es=async()=>{if(confirm("Are you sure you want to reset your master references? This will reload the page.")){O(!0);try{let{error:r}=await i.O.rpc("reset_student_references",{user_id:e.id});if(r)throw r;let s={...e,references:void 0};t(s),f("workspace"),X({interior:"",exterior:""})}catch(e){console.error("Error resetting references:",e),alert("Failed to reset references.")}finally{O(!1)}}},ea=(e,t)=>{if(e.target.files?.[0]){let r=e.target.files[0];B(e=>({...e,[t]:r})),X(e=>({...e,[t]:URL.createObjectURL(r)}))}},el=e=>{B(t=>({...t,[e]:null})),X(t=>({...t,[e]:""}))},ei=async()=>{if((Y.interior||e.references?.interior)&&(Y.exterior||e.references?.exterior)){ee(!0);try{await c(e.id,Y.interior,Y.exterior);let r={...e,references:{interior:K.interior,exterior:K.exterior}};t(r)}catch(e){console.error(e),alert("Upload failed.")}finally{ee(!1)}}},en=async()=>{if(!D)return;W(!0);let t="interior"===R?e.references?.interior:e.references?.exterior;await h(e.id,e.current_level,t||"",D,F);let r=await x(e.id);r&&l(r.sort((e,t)=>new Date(e.created_at||0).getTime()-new Date(t.created_at||0).getTime())),$(null),H(""),V(""),W(!1)},ed=()=>{localStorage.removeItem("activeUserEmail"),window.location.href="/login"},eo=r.filter(t=>t.assignment_number===e.current_level),ec=eo.length>0?eo[eo.length-1]:null,ex=ec?.status==="pending",eh=ec?.status==="approved",eu=ec?.status==="rejected",ep=!ec||eu,em="interior"===R?e.references?.interior:e.references?.exterior,ef=G,eb="DRAFT";if(T){let e=r.find(e=>e.id===T);e&&(ef=e.render_image_url,eb=e.status.toUpperCase())}let eg=!e.references?.interior||!e.references?.exterior;return(0,s.jsxs)("div",{className:"flex w-full h-screen bg-[#050505] overflow-hidden",children:[!eg&&(0,s.jsxs)("div",{className:"w-20 bg-[#0a0a0a] border-r border-white/5 flex flex-col items-center py-0 shrink-0 z-50 animate-in fade-in slide-in-from-left-4 duration-500",children:[s.jsx("div",{className:"h-20 flex items-center justify-center w-full mb-6",children:s.jsx("div",{className:"w-10 h-10 bg-[#d90238] rounded-lg flex items-center justify-center font-black text-white text-[10px] tracking-tighter leading-none shadow-[0_0_15px_rgba(217,2,56,0.3)]",children:"RTA"})}),(0,s.jsxs)("div",{className:"flex flex-col gap-6 items-center w-full",children:[s.jsx("button",{onClick:()=>f("workspace"),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${"workspace"===o?"bg-white text-black shadow-lg scale-105":"text-neutral-500 hover:bg-white/5 hover:text-white"}`,title:"Workspace",children:s.jsx(b,{size:20})}),s.jsx("button",{onClick:()=>f("gallery"),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${"gallery"===o?"bg-white text-black shadow-lg scale-105":"text-neutral-500 hover:bg-white/5 hover:text-white"}`,title:"Gallery",children:s.jsx(g.Z,{size:20})})]}),s.jsx("div",{className:"flex-1"}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 items-center mb-6",children:[(0,s.jsxs)("button",{onClick:()=>f("profile"),className:`w-10 h-10 rounded-full border border-white/5 flex items-center justify-center transition-all ${"profile"===o?"bg-white text-black shadow-lg scale-105":"text-neutral-500 hover:bg-white/5 hover:text-white"}`,title:"Profile / History",children:[s.jsx(w.Z,{size:20})," "]}),(0,s.jsxs)("button",{onClick:es,disabled:U,className:"w-10 h-10 rounded-full border border-white/5 flex items-center justify-center text-neutral-500 hover:bg-white/5 hover:text-white transition-all disabled:opacity-50",title:"Settings",children:[U?s.jsx(m.Z,{className:"animate-spin",size:16}):s.jsx(y,{size:16})," "]}),s.jsx("button",{onClick:ed,className:"w-10 h-10 rounded-full border border-white/5 flex items-center justify-center text-neutral-500 hover:bg-[#d90238] hover:border-[#d90238] hover:text-white transition-all",title:"Logout",children:s.jsx(j.Z,{size:16})})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col relative min-w-0",children:[(0,s.jsxs)("header",{className:`h-20 border-b border-white/5 bg-[#050505] flex items-center justify-between px-8 shrink-0 z-40 ${eg?"px-12":""} animate-in fade-in slide-in-from-top-4 duration-500`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[eg&&s.jsx("div",{className:"w-10 h-10 bg-[#d90238] rounded-lg flex items-center justify-center font-black text-white text-[10px] tracking-tighter leading-none shadow-[0_0_15px_rgba(217,2,56,0.3)] mr-2",children:"RTA"}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl font-black text-white tracking-tighter leading-none",children:et?"MASTER CLASS":"VISUALIZATION CLASS"}),er&&s.jsx("p",{className:"text-[10px] text-[#d90238] font-bold uppercase tracking-[0.2em] mt-1",children:er})]})]}),eg&&(0,s.jsxs)("button",{onClick:ed,className:"flex items-center gap-2 text-neutral-500 hover:text-white transition-colors text-xs font-bold uppercase tracking-widest border border-white/10 px-4 py-2 rounded-full hover:bg-white/5",children:[s.jsx(j.Z,{size:14})," LOGOUT"]})]}),s.jsx("div",{className:"flex-1 flex overflow-hidden relative",children:eg?s.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center p-6 bg-[#050505] animate-in fade-in zoom-in-95 duration-500",children:(0,s.jsxs)("div",{className:"max-w-4xl w-full text-center space-y-10",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-[#d90238] text-[10px] font-bold tracking-[0.3em] uppercase border border-[#d90238]/30 px-4 py-1.5 rounded-full bg-[#d90238]/5 shadow-[0_0_15px_rgba(217,2,56,0.1)]",children:"Project Initialization"}),s.jsx("h1",{className:"text-5xl font-black text-white mt-6 mb-2 tracking-tight",children:"Upload Master References"}),s.jsx("p",{className:"text-neutral-500 text-sm",children:"These will serve as the ground truth for all future assignments."})]}),s.jsx("div",{className:"grid grid-cols-2 gap-8",children:["interior","exterior"].map(e=>(0,s.jsxs)("div",{className:"group relative aspect-video bg-[#0a0a0a] border border-white/5 rounded-2xl overflow-hidden hover:border-[#d90238]/50 transition-all cursor-pointer shadow-2xl",children:[!("interior"===e?K.interior:K.exterior)&&s.jsx("input",{type:"file",accept:"image/*",onChange:t=>ea(t,e),className:"absolute inset-0 z-20 opacity-0 cursor-pointer"}),("interior"===e?K.interior:K.exterior)?(0,s.jsxs)(s.Fragment,{children:[s.jsx("img",{src:"interior"===e?K.interior:K.exterior,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),s.jsx("button",{onClick:()=>el(e),className:"absolute top-3 right-3 z-30 w-8 h-8 bg-black/50 backdrop-blur hover:bg-[#d90238] rounded-full flex items-center justify-center text-white transition-colors",children:s.jsx(v.Z,{size:14})})]}):s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center group-hover:scale-105 transition-transform duration-500",children:(0,s.jsxs)("span",{className:"text-xs font-bold uppercase tracking-[0.2em] text-neutral-500 group-hover:text-white transition-colors",children:["CLICK TO UPLOAD ",e]})})]},e))}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx("button",{onClick:ei,disabled:Q||!K.interior||!K.exterior,className:"bg-[#d90238] hover:bg-[#b0022d] text-white px-12 py-4 rounded-xl font-bold uppercase tracking-widest text-xs w-full max-w-md disabled:opacity-30 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(217,2,56,0.2)] hover:shadow-[0_0_30px_rgba(217,2,56,0.4)]",children:Q?"INITIALIZING...":"INITIALIZE PROJECT"})})]})}):(0,s.jsxs)(s.Fragment,{children:["workspace"===o&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"flex-1 flex flex-col bg-[#020202] relative min-w-0 items-center justify-center p-6 animate-in fade-in",children:(0,s.jsxs)("div",{className:"w-full h-full aspect-video bg-black relative border border-white/5 rounded-2xl overflow-hidden shadow-2xl",children:[em&&ef?s.jsx(p.x,{referenceImage:em,renderImage:ef,className:"w-full h-full"}):em?s.jsx("div",{className:"w-full h-full relative group flex items-center justify-center",children:s.jsx("img",{src:em,className:"w-full h-full object-contain opacity-50 grayscale transition-all duration-700"})}):s.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center opacity-20",children:s.jsx("p",{className:"text-neutral-500 font-mono text-xs uppercase tracking-widest",children:"Select Context"})}),s.jsx("div",{className:"absolute bottom-8 left-8 z-20 pointer-events-none",children:(0,s.jsxs)("div",{className:`px-4 py-2 rounded-full border backdrop-blur-md flex items-center gap-2 ${"PENDING"===eb?"bg-amber-500/10 border-amber-500/30 text-amber-500":"REJECTED"===eb?"bg-[#d90238]/10 border-[#d90238]/30 text-[#d90238]":"APPROVED"===eb?"bg-emerald-500/10 border-emerald-500/30 text-emerald-500":"bg-white/5 border-white/10 text-neutral-400"}`,children:["PENDING"===eb&&s.jsx(N.Z,{size:14}),"REJECTED"===eb&&s.jsx(k,{size:14}),"APPROVED"===eb&&s.jsx(_,{size:14}),(0,s.jsxs)("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:[eb," STATE"]})]})})]})}),(0,s.jsxs)("div",{className:"w-[400px] bg-[#0a0a0a] border-l border-white/5 flex flex-col shrink-0 z-40 shadow-2xl animate-in slide-in-from-right-4",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-white/5 bg-[#0a0a0a]",children:[s.jsx("h3",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest mb-4",children:"Submission Context"}),(0,s.jsxs)("div",{className:"flex bg-[#111] rounded-lg p-1 border border-white/5",children:[(0,s.jsxs)("button",{onClick:()=>L("interior"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-[10px] font-bold uppercase tracking-widest transition-all ${"interior"===R?"bg-[#d90238] text-white shadow-lg":"text-neutral-500 hover:text-white"}`,children:[s.jsx(y,{size:12})," Interior"]}),(0,s.jsxs)("button",{onClick:()=>L("exterior"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-[10px] font-bold uppercase tracking-widest transition-all ${"exterior"===R?"bg-[#d90238] text-white shadow-lg":"text-neutral-500 hover:text-white"}`,children:[s.jsx(S,{size:12})," Exterior"]})]})]}),(0,s.jsxs)("div",{className:"p-6 border-b border-white/5",children:[(0,s.jsxs)("h3",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[s.jsx(z,{size:12})," Timeline"]}),(0,s.jsxs)("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:[eo.map((e,t)=>s.jsx("button",{onClick:()=>q(e.id),className:`flex flex-col items-center gap-2 group min-w-[60px] cursor-pointer transition-opacity ${T&&T!==e.id?"opacity-50 hover:opacity-100":"opacity-100"}`,children:(0,s.jsxs)("div",{className:`w-10 h-10 rounded-full border flex items-center justify-center text-[10px] font-bold transition-all ${T===e.id?"bg-white text-black scale-110 shadow-[0_0_15px_rgba(255,255,255,0.3)]":"rejected"===e.status?"border-[#d90238] text-[#d90238] bg-[#d90238]/10":"approved"===e.status?"border-emerald-500 text-emerald-500 bg-emerald-500/10":"border-amber-500 text-amber-500 bg-amber-500/10"}`,children:["v",t+1]})},e.id)),ep&&s.jsx("button",{onClick:()=>q(null),className:`flex flex-col items-center gap-2 group min-w-[60px] cursor-pointer transition-opacity ${null!==T?"opacity-50 hover:opacity-100":"opacity-100"}`,children:s.jsx("div",{className:`w-10 h-10 rounded-full border border-dashed border-neutral-700 flex items-center justify-center text-neutral-500 transition-all ${null===T?"border-[#d90238] text-[#d90238] bg-[#d90238]/10":"hover:border-neutral-500 hover:text-white"}`,children:s.jsx(C,{size:14})})})]})]}),s.jsx("div",{className:"flex-1 p-6 flex flex-col overflow-y-auto bg-[#0a0a0a]",children:T?(0,s.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[r.find(e=>e.id===T)?.teacher_comment&&(0,s.jsxs)("div",{className:"bg-[#d90238]/10 border border-[#d90238]/20 p-4 rounded-xl",children:[(0,s.jsxs)("h4",{className:"text-[#d90238] text-xs font-bold uppercase mb-2 flex items-center gap-2",children:[s.jsx(k,{size:14})," Instructor Feedback"]}),(0,s.jsxs)("p",{className:"text-neutral-300 text-sm leading-relaxed font-medium",children:['"',r.find(e=>e.id===T)?.teacher_comment,'"']})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/5 p-4 rounded-xl",children:[s.jsx("h4",{className:"text-neutral-500 text-[10px] font-bold uppercase mb-2",children:"Student Note"}),(0,s.jsxs)("p",{className:"text-neutral-400 text-sm italic",children:['"',r.find(e=>e.id===T)?.student_message||"No notes added.",'"']})]}),eu&&T===ec?.id&&(0,s.jsxs)("button",{onClick:()=>q(null),className:"w-full py-4 bg-[#d90238] hover:bg-[#b0022d] text-white font-bold uppercase tracking-widest text-xs rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-red-900/20",children:["Start Revision (v",eo.length+1,") ",s.jsx(M.Z,{size:14})]})]}):!ep&&ex?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-6 border border-amber-500/20 bg-amber-500/5 rounded-xl",children:[s.jsx(N.Z,{size:32,className:"text-amber-500 mb-4 animate-pulse"}),s.jsx("h3",{className:"text-white font-bold text-lg",children:"Under Review"}),s.jsx("p",{className:"text-neutral-500 text-sm mt-2 leading-relaxed",children:"Your instructor is reviewing your submission."})]}):!ep&&eh?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-6 border border-emerald-500/20 bg-emerald-500/5 rounded-xl",children:[s.jsx(_,{size:32,className:"text-emerald-500 mb-4"}),s.jsx("h3",{className:"text-white font-bold text-lg",children:"Approved"}),s.jsx("p",{className:"text-neutral-500 text-sm mt-2 leading-relaxed",children:"You have passed this protocol."})]}):(0,s.jsxs)("div",{className:"flex flex-col h-full animate-in slide-in-from-right-4",children:[s.jsx("h3",{className:"text-white text-lg font-bold mb-1",children:"Submit Render"}),(0,s.jsxs)("p",{className:"text-neutral-500 text-xs mb-6",children:["Upload your ",R," render for review."]}),(0,s.jsxs)("label",{className:`flex-1 min-h-[150px] border-2 border-dashed rounded-xl flex flex-col items-center justify-center cursor-pointer transition-all mb-6 relative group ${G?"border-[#d90238] bg-[#d90238]/5":"border-white/10 hover:border-[#d90238]/50 hover:bg-white/5"}`,children:[s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{e.target.files?.[0]&&($(e.target.files[0]),H(URL.createObjectURL(e.target.files[0])))}}),G?(0,s.jsxs)("div",{className:"relative w-full h-full p-2",children:[s.jsx("img",{src:G,className:"w-full h-full object-contain rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-lg backdrop-blur-sm",children:(0,s.jsxs)("span",{className:"text-white text-xs font-bold uppercase flex items-center gap-2",children:[s.jsx(Z,{size:14})," Change Image"]})})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center text-neutral-500 group-hover:text-white transition-colors",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center mb-3 group-hover:bg-[#d90238] transition-colors",children:s.jsx(C,{size:20})}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Click to Upload"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("textarea",{value:F,onChange:e=>V(e.target.value),placeholder:"Notes...",className:"w-full bg-black border border-white/10 rounded-xl p-4 text-sm text-white focus:border-[#d90238] focus:outline-none resize-none h-20 placeholder:text-neutral-700"}),s.jsx("div",{className:"flex justify-center pt-2",children:s.jsx("button",{onClick:en,disabled:!G||J,className:"px-8 py-3 bg-[#d90238] hover:bg-[#b0022d] disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold uppercase tracking-widest text-xs rounded-full transition-all flex items-center justify-center gap-2 shadow-[0_0_20px_rgba(217,2,56,0.3)] hover:shadow-[0_0_30px_rgba(217,2,56,0.5)] hover:scale-105 active:scale-95",children:J?s.jsx(m.Z,{className:"animate-spin",size:16}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(E,{size:14})," Submit Render"]})})})]})]})})]})]}),"gallery"===o&&(0,s.jsxs)("div",{className:"flex-1 bg-[#020202] p-8 overflow-y-auto animate-in fade-in",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"Academy Gallery"}),s.jsx("p",{className:"text-neutral-500 text-sm mt-2",children:"Explore approved submissions from fellow students."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n.map(e=>(0,s.jsxs)("div",{className:"aspect-square bg-[#0a0a0a] border border-white/5 rounded-xl overflow-hidden relative group cursor-pointer hover:border-[#d90238]/50 transition-all",children:[s.jsx("img",{src:e.render_image_url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-500"}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity p-4 flex flex-col justify-end",children:[(0,s.jsxs)("p",{className:"text-white font-bold text-sm",children:["Assignment ",String(e.assignment_number).padStart(2,"0")]}),s.jsx("p",{className:"text-[10px] text-[#d90238] font-mono uppercase tracking-widest",children:"Approved Work"})]})]},e.id))})]}),"profile"===o&&s.jsx("div",{className:"flex-1 bg-[#020202] p-12 overflow-y-auto animate-in fade-in slide-in-from-bottom-4",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto space-y-12",children:[(0,s.jsxs)("div",{className:"flex items-center gap-8 border-b border-white/10 pb-12",children:[s.jsx("div",{className:"w-32 h-32 bg-[#d90238] rounded-full flex items-center justify-center shadow-[0_0_40px_rgba(217,2,56,0.3)]",children:s.jsx("span",{className:"text-5xl font-black text-white",children:e.full_name?.charAt(0).toUpperCase()||"S"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-4xl font-black text-white tracking-tight",children:e.full_name||"Student"}),(0,s.jsxs)("p",{className:"text-neutral-400 flex items-center gap-2 mt-1",children:[s.jsx(A,{size:14})," ",e.email]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 px-4 py-2 rounded-lg flex items-center gap-3",children:[s.jsx(P,{className:"text-[#d90238]",size:20}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-[10px] text-neutral-500 uppercase tracking-widest font-bold",children:"Class Level"}),s.jsx("p",{className:"text-white font-bold uppercase",children:e.enrolled_class.replace("_"," ")})]})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 px-4 py-2 rounded-lg flex items-center gap-3",children:[s.jsx(_,{className:"text-emerald-500",size:20}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-[10px] text-neutral-500 uppercase tracking-widest font-bold",children:"Current Assignment"}),(0,s.jsxs)("p",{className:"text-white font-bold",children:["#",e.current_level]})]})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx(z,{size:24,className:"text-neutral-500"})," Submission History"]}),s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-left text-sm text-neutral-400",children:[s.jsx("thead",{className:"text-[10px] uppercase tracking-widest bg-black/40 text-neutral-500 font-bold",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"Assignment"}),s.jsx("th",{className:"px-6 py-4",children:"Status"}),s.jsx("th",{className:"px-6 py-4",children:"Submitted On"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-white/5",children:0===r.length?s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-neutral-500 italic",children:"No submissions yet."})}):r.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,s.jsxs)("td",{className:"px-6 py-4 font-bold text-white",children:["#",e.assignment_number]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest px-3 py-1 rounded-full border ${"approved"===e.status?"bg-emerald-500/10 text-emerald-500 border-emerald-500/30":"rejected"===e.status?"bg-[#d90238]/10 text-[#d90238] border-[#d90238]/30":"bg-amber-500/10 text-amber-500 border-amber-500/30"}`,children:e.status})}),(0,s.jsxs)("td",{className:"px-6 py-4 flex items-center gap-2",children:[s.jsx(I,{size:14})," ",new Date(e.created_at).toLocaleDateString()]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("button",{onClick:()=>{f("workspace"),q(e.id)},className:"text-[#d90238] hover:text-white hover:underline text-xs font-bold uppercase tracking-widest",children:"View Details"})})]},e.id))})]})})]})]})})]})})]})]})}},574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(5344);function a({children:e}){return s.jsx("div",{className:"h-screen bg-[#050505] text-neutral-200 flex flex-col font-sans overflow-hidden",children:s.jsx("main",{className:"flex-1 w-full h-full relative bg-[#050505]",children:e})})}r(3729)},7751:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},5545:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5524:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},8120:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3714:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let s=(0,r(6843).createProxy)(String.raw`/workspaces/render-academy-app/app/student/dashboard/page.tsx`),{__esModule:a,$$typeof:l}=s,i=s.default},4218:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let s=(0,r(6843).createProxy)(String.raw`/workspaces/render-academy-app/app/student/layout.tsx`),{__esModule:a,$$typeof:l}=s,i=s.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[22,549,74],()=>r(5662));module.exports=s})();