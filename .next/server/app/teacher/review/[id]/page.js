(()=>{var e={};e.id=709,e.ids=[709],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1927:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var s=r(482),a=r(9108),n=r(2563),i=r.n(n),l=r(8300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["teacher",{children:["review",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5734)),"/workspaces/render-academy-app/app/teacher/review/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2917)),"/workspaces/render-academy-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/render-academy-app/app/teacher/review/[id]/page.tsx"],u="/teacher/review/[id]/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/teacher/review/[id]/page",pathname:"/teacher/review/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5495:(e,t,r)=>{Promise.resolve().then(r.bind(r,7580))},7580:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(5344),a=r(3729),n=r(8428),i=r(1588),l=r(1143),d=r(2739),o=r(3024),c=r(8822),u=r(9224);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,u.Z)("MessageSquareQuote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]),p=(0,u.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);var m=r(4513);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,u.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function f({params:e}){let t=(0,n.useRouter)(),[r,u]=(0,a.useState)(null),[f,g]=(0,a.useState)(null),[b,v]=(0,a.useState)(""),[j,w]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{let{data:r,error:s}=await i.O.from("submissions").select("*").eq("id",e.id).single();if(s||!r){t.push("/teacher/dashboard");return}u(r),r.teacher_comment&&v(r.teacher_comment);let{data:a}=await i.O.from("profiles").select("*").eq("id",r.user_id).single();g(a),w(!1)})()},[e.id,t]);let k=async()=>{if(!r)return;let e=b.trim()||"Excellent execution. Progression approved.";await i.O.from("submissions").update({status:"approved",teacher_comment:e,updated_at:new Date().toISOString()}).eq("id",r.id),f&&await i.O.from("profiles").update({current_level:(f.current_level||1)+1}).eq("id",f.id),t.push("/teacher/dashboard")},y=async()=>{if(r){if(!b.trim()){alert("Please provide specific feedback before rejecting.");return}await i.O.from("submissions").update({status:"rejected",teacher_comment:b,updated_at:new Date().toISOString()}).eq("id",r.id),t.push("/teacher/dashboard")}};return j||!r?s.jsx("div",{className:"h-screen bg-[#050505] flex items-center justify-center",children:s.jsx(d.Z,{className:"animate-spin text-[#d90238]"})}):(0,s.jsxs)("div",{className:"absolute inset-4 md:inset-6 flex flex-col bg-[#050505] rounded-lg border border-neutral-800 shadow-2xl overflow-hidden font-sans",children:[(0,s.jsxs)("div",{className:"h-14 bg-[#0a0a0a] border-b border-neutral-800 flex items-center justify-between px-6 shrink-0 z-20",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("button",{onClick:()=>t.push("/teacher/dashboard"),className:"flex items-center gap-2 text-neutral-500 hover:text-white transition-colors text-[10px] font-bold uppercase tracking-widest group",children:[s.jsx(o.Z,{size:14,className:"group-hover:-translate-x-1 transition-transform"})," Back"]}),s.jsx("div",{className:"h-4 w-px bg-neutral-800"}),s.jsx("h1",{className:"text-sm font-bold text-white tracking-wide uppercase",children:"Grading Console"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"text-[10px] text-neutral-600 font-mono hidden md:block",children:["ID: ",r.id.substring(0,8).toUpperCase()]}),(0,s.jsxs)("div",{className:`px-3 py-1 text-[10px] font-bold uppercase tracking-widest rounded-full border flex items-center gap-2 ${"pending"===r.status?"border-amber-500/20 text-amber-500 bg-amber-500/5":"approved"===r.status?"border-emerald-500/20 text-emerald-500 bg-emerald-500/5":"border-red-500/20 text-red-500 bg-red-500/5"}`,children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${"pending"===r.status?"bg-amber-500 animate-pulse":"approved"===r.status?"bg-emerald-500":"bg-red-500"}`}),r.status]})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex min-h-0",children:[s.jsx("div",{className:"flex-1 relative bg-black min-w-0",children:s.jsx(l.x,{referenceImage:r.reference_image_url,renderImage:r.render_image_url,className:"h-full w-full border-0 rounded-none"})}),(0,s.jsxs)("div",{className:"w-[380px] bg-[#0a0a0a] border-l border-neutral-800 flex flex-col shrink-0 z-10 shadow-[-10px_0_30px_rgba(0,0,0,0.5)]",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-neutral-800",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-white mb-1",children:f?.full_name||"Student"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-neutral-500 font-mono",children:[(0,s.jsxs)("span",{className:"bg-neutral-800 px-1.5 py-0.5 rounded text-[10px]",children:["LVL ",r.assignment_number]}),s.jsx("span",{children:f?.email})]})]}),s.jsx("div",{className:"w-10 h-10 bg-neutral-800 rounded-full flex items-center justify-center text-neutral-500",children:s.jsx(c.Z,{size:20})})]}),(0,s.jsxs)("div",{className:"bg-[#111] border border-neutral-800 rounded-lg p-4 relative",children:[(0,s.jsxs)("div",{className:"absolute -top-2 left-4 px-2 bg-[#0a0a0a] text-[10px] font-bold text-neutral-500 uppercase tracking-wider flex items-center gap-1",children:[s.jsx(x,{size:10})," Student Note"]}),(0,s.jsxs)("p",{className:"text-sm text-neutral-300 italic font-serif leading-relaxed",children:['"',r.student_message||"No message.",'"']})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col p-6 bg-gradient-to-b from-[#0a0a0a] to-[#050505]",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:(0,s.jsxs)("h3",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest flex items-center gap-2",children:[s.jsx(p,{size:12})," Instructor Feedback"]})}),s.jsx("textarea",{value:b,onChange:e=>v(e.target.value),placeholder:"Feedback required for rejection...",className:"flex-1 w-full bg-[#0f0f0f] border border-neutral-800 rounded-lg p-4 text-sm text-white placeholder-neutral-600 focus:outline-none focus:border-neutral-600 focus:ring-1 focus:ring-neutral-700 resize-none mb-6 transition-all"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[(0,s.jsxs)("button",{onClick:y,className:"h-12 rounded-sm border border-red-900/30 bg-red-950/5 hover:bg-red-900/20 text-red-600 hover:text-red-500 transition-all font-bold text-xs uppercase tracking-wider flex items-center justify-center gap-2",children:[s.jsx(m.Z,{size:16})," Reject"]}),(0,s.jsxs)("button",{onClick:k,className:"h-12 rounded-sm bg-emerald-700 hover:bg-emerald-600 text-white shadow-lg hover:shadow-emerald-900/30 transition-all font-bold text-xs uppercase tracking-wider flex items-center justify-center gap-2",children:[s.jsx(h,{size:16})," Approve"]})]})]})]})]})]})}},3024:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5734:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let s=(0,r(6843).createProxy)(String.raw`/workspaces/render-academy-app/app/teacher/review/[id]/page.tsx`),{__esModule:a,$$typeof:n}=s,i=s.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[22,549,74],()=>r(1927));module.exports=s})();