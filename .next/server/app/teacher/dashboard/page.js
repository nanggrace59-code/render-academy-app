(()=>{var e={};e.id=497,e.ids=[497],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9210:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(482),a=s(9108),n=s(2563),i=s.n(n),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["teacher",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,326)),"/workspaces/render-academy-app/app/teacher/dashboard/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/workspaces/render-academy-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/render-academy-app/app/teacher/dashboard/page.tsx"],u="/teacher/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/teacher/dashboard/page",pathname:"/teacher/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9791:()=>{},7374:(e,t,s)=>{Promise.resolve().then(s.bind(s,5977))},6812:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},5977:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(5344),a=s(3729),n=s(8428),i=s(9887),l=s(9224);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,l.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),d=(0,l.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var c=s(6138),u=s(8822),m=s(7751);function x(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)("master_class"),x=(0,n.useRouter)();(0,a.useEffect)(()=>{Promise.all([(0,i.uH)(),(0,i.Gm)()]).then(([e,s])=>{t(e.map(e=>{let t=s.filter(t=>t.student_id===e.id),r=t.some(e=>"pending"===e.status),a=t.find(e=>"pending"===e.status)||t.sort((e,t)=>(t.assignment_number||0)-(e.assignment_number||0))[0];return{...e,has_pending:r,latest_submission:a}}))})},[]);let p=e.filter(e=>e.enrolled_class===s||!e.enrolled_class);return r.jsx("div",{className:"min-h-screen bg-[#050505] text-white font-sans p-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"flex justify-between items-end mb-10",children:(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-light mb-2",children:"Teacher Dashboard"}),r.jsx("p",{className:"text-neutral-500 font-mono text-sm",children:"MANAGE STUDENT PROGRESS"})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-6 border-b border-neutral-800",children:[r.jsx("button",{onClick:()=>l("master_class"),className:`px-6 py-4 text-xs font-bold uppercase tracking-widest border-b-2 transition-all ${"master_class"===s?"border-red-600 text-white bg-neutral-900/50":"border-transparent text-neutral-500 hover:text-white hover:bg-neutral-900/30"}`,children:"Master Class Architecture Modeling"}),r.jsx("button",{onClick:()=>l("viz_class"),className:`px-6 py-4 text-xs font-bold uppercase tracking-widest border-b-2 transition-all ${"viz_class"===s?"border-red-600 text-white bg-neutral-900/50":"border-transparent text-neutral-500 hover:text-white hover:bg-neutral-900/30"}`,children:"Visualization Class"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[(0,r.jsxs)("div",{className:"bg-neutral-900 border border-neutral-800 p-6",children:[r.jsx("h3",{className:"text-neutral-500 text-xs font-mono uppercase mb-2",children:"Pending Reviews"}),r.jsx("p",{className:"text-4xl font-light text-amber-500",children:p.filter(e=>e.has_pending).length})]}),(0,r.jsxs)("div",{className:"bg-neutral-900 border border-neutral-800 p-6",children:[r.jsx("h3",{className:"text-neutral-500 text-xs font-mono uppercase mb-2",children:"Class Enrollment"}),r.jsx("p",{className:"text-4xl font-light text-white",children:p.length})]})]}),(0,r.jsxs)("div",{className:"bg-neutral-900 border border-neutral-800 min-h-[400px]",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-800 flex items-center justify-between",children:[r.jsx("h2",{className:"font-mono text-sm text-neutral-400 uppercase",children:"Student Roster"}),r.jsx(o,{className:"text-neutral-600",size:18})]}),0===p.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-neutral-600",children:[r.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-full flex items-center justify-center mb-4",children:r.jsx(d,{size:32})}),r.jsx("p",{className:"text-lg",children:"No students enrolled in this class."}),r.jsx("p",{className:"text-sm font-mono mt-2",children:"Check the other class tab."})]}):r.jsx("div",{className:"divide-y divide-neutral-800",children:p.map(e=>(0,r.jsxs)("div",{onClick:()=>e.latest_submission&&x.push(`/teacher/grading/${e.latest_submission.id}`),className:`p-6 flex items-center justify-between transition-colors ${e.latest_submission?"hover:bg-neutral-800/50 cursor-pointer group":"opacity-50 cursor-default"}`,children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e.has_pending?"bg-amber-900/30 text-amber-500 border border-amber-500/30":"bg-neutral-800 text-neutral-500"}`,children:e.has_pending?r.jsx(c.Z,{size:20}):r.jsx(u.Z,{size:20})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-lg text-neutral-200",children:e.full_name||e.email}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-neutral-500 font-mono mt-1",children:[(0,r.jsxs)("span",{className:"bg-neutral-800 px-2 py-0.5 rounded-sm",children:["LVL ",e.current_level]}),r.jsx("span",{children:e.email})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[e.latest_submission?(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm text-neutral-300",children:["Assignment ",e.latest_submission.assignment_number]}),r.jsx("p",{className:`text-xs uppercase font-bold tracking-wide ${"pending"===e.latest_submission.status?"text-amber-500":"approved"===e.latest_submission.status?"text-emerald-500":"text-red-500"}`,children:e.latest_submission.status})]}):r.jsx("div",{className:"text-right text-neutral-600 text-xs font-mono uppercase",children:"No Submissions"}),e.latest_submission&&r.jsx(m.Z,{className:"text-neutral-600 group-hover:text-white transition-colors",size:20})]})]},e.id))})]})]})})}},6138:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7751:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8822:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9887:(e,t,s)=>{"use strict";s.d(t,{F:()=>m,Gm:()=>d,Kf:()=>u,Mb:()=>c,uH:()=>o,un:()=>l,x4:()=>i});var r=s(1588);let a=e=>new Promise((t,s)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>s(e)}),n=e=>({...e,references:e.ref_interior_url&&e.ref_exterior_url?{interior:e.ref_interior_url,exterior:e.ref_exterior_url}:void 0}),i=async e=>{let{data:t,error:s}=await r.O.from("profiles").select("*").eq("email",e).single();return s||!t?null:n(t)},l=async(e,t,s)=>{try{let i={};if(t){let e=await a(t);i.ref_interior_url=e}if(s){let e=await a(s);i.ref_exterior_url=e}let{data:l,error:o}=await r.O.from("profiles").update(i).eq("id",e).select().single();if(o)return console.error("Upload Error:",o.message),null;return n(l)}catch(e){return console.error("Unexpected Error:",e),null}},o=async()=>{let{data:e}=await r.O.from("profiles").select("*").eq("role","student");return e?.map(n)||[]},d=async()=>{let{data:e}=await r.O.from("submissions").select("*");return e||[]},c=async e=>{let{data:t}=await r.O.from("submissions").select("*").eq("student_id",e);return t||[]},u=async(e,t,s,n,i)=>{let l=n?await a(n):"https://via.placeholder.com/800",{error:o}=await r.O.from("submissions").insert({student_id:e,assignment_number:t,reference_image_url:s,render_image_url:l,status:"pending",student_message:i,created_at:new Date().toISOString()});return o&&console.error("Submit Error:",o.message),!o},m=async()=>{let{data:e}=await r.O.from("submissions").select("*").eq("status","approved");return e||[]}},1588:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(7635);let a=process.env.NEXT_PUBLIC_SUPABASE_URL,n=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,i=(0,r.eI)(a,n)},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>a});var r=s(5036);s(7272);let a={title:"Render The Art Academy",description:"Architectural Visualization Learning Platform"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:e})})}},326:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`/workspaces/render-academy-app/app/teacher/dashboard/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[22,95],()=>s(9210));module.exports=r})();